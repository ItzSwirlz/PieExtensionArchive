(()=>{function e(e,t){let c=0;return(...o)=>{const r=Date.now();r-c>=t&&(c=r,e.apply(this,o))}}function t(e,t){return chrome.runtime.sendMessage({name:e,payload:t})}const c=new Map;function o(e,t,o){let r=c.get(e);if(!r){r={watchedSelectors:{}},c.set(e,r);new MutationObserver((()=>{const t=Object.keys(r.watchedSelectors);for(let c=0;c<t.length;c+=1)try{const o=t[c],n=e.querySelector(o);if(n){r.watchedSelectors[o].forEach((e=>{try{e(n)}catch(e){}}))}}catch(e){}})).observe(e,{childList:!0,subtree:!0})}r.watchedSelectors[t]=r.watchedSelectors[t]||[],r.watchedSelectors[t].push(o)}!async function(){(function(e,t=15e3,c=100){return new Promise((o=>{let r=0;const n=setInterval((()=>{const a=document.querySelector(e);a?(clearInterval(n),o(a)):r>t&&clearInterval(n),r+=c}),c)}))})(".video-player").then((c=>{o(c,'[data-a-target="video-ad-label"]',e((()=>{t("adblock:twitch:adSeen",{})}),6e4)),o(c,"#adBlocked",e((()=>{document.querySelector("#adBlocked").remove(),t("adblock:twitch:adBlocked",{})}),6e4)),o(c,"#infoDiv",e((()=>{const e=document.querySelector("#infoDiv");e&&(t("adblock:twitch:ad_duration",{duration:e.getAttribute("data-ad-time")}),document.querySelector("#infoDiv").remove())}),6e4))}))}()})();